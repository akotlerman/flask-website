{% extends "base.html" %}

{% block body %}
    <h1>Flam3 Generator</h1>
    <hr>
    <div class="row box-content">
        <div class="left-pan col-md-6">
            <h2>Data Input</h2>
            <div class="form-group row">
                <label for="point-count-input" class="col-3 col-form-label">Point Count</label>
                <div class="col-md-7">
                    <input class="form-control" id="point-count-input" type="text" value="3">
                </div>
            </div>
            <div class="form-group row">
                <label for="back-color-input" class="col-3 col-form-label">Back Color</label>
                <div class="col-7">
                    <input class="form-control" type="color" value="#42426f" id="back-color-input" style="height:38px">
                </div>
            </div>
            <div class="form-group row">
                <label for="front-color-input" class="col-3 col-form-label">Front Color</label>
                <div class="col-7">
                    <input class="form-control" type="color" value="#f4a460" id="front-color-input" style="height:38px">
                </div>
            </div>
            <button type="button" class="btn btn-primary btn-lg" href=# id=calculate>Generate Fractal</button>
        </div>
        <div class="col-md-6 float-right">
            <h2>Data Output</h2>
            <img id="result"></img>
        </div>
    </div>

{% endblock %}

{% block js %}
    <script type=text/javascript>

        $(function () {
            $('#calculate').bind('click', function () {
                $.getJSON('{{ url_for('main.gen_flam3') }}', {
                    point_count: $('input#point-count-input').val(),
                    front_color: $('input#front-color-input').val(),
                    back_color: $('input#back-color-input').val()
                }, function (data) {
                    console.log(data.result)
                    $("#result").attr("src", data.result);
                });
                return false;
            });
        });
    </script>

{% endblock %}